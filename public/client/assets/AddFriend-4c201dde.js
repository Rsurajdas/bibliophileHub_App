import{r as a,u as f,j as e,C as u,L as p}from"./index-a7bd720d.js";import{T as g}from"./Title-1758a322.js";import{B as i}from"./Button-0c7a912b.js";import{R as n,C as c}from"./Row-a305f01f.js";const k=()=>{const[l,d]=a.useState([]),[o,m]=a.useState(!0),r=a.useRef(null),h=f("token"),x=async s=>{s.preventDefault();try{const j=await(await fetch(`http://127.0.0.1:3000/api/v1/users/search-member?query=${r.current.value}`,{method:"GET",headers:{Authorization:`Bearer ${h}`}})).json();m(!1),d(j.data.users)}catch(t){console.error(t.message)}};return e.jsx("main",{children:e.jsx("section",{className:"py-5",children:e.jsx(u,{children:e.jsx(n,{children:e.jsx(c,{md:10,className:"mx-auto",children:e.jsx(n,{className:"gx-5",children:e.jsx(c,{md:8,children:e.jsxs("div",{className:"friends-wrapper",children:[e.jsx(g,{element:e.jsx("h6",{className:"border-bottom pb-2 mb-2",style:{fontWeight:700,fontSize:"14px"},children:"Friends"})}),e.jsx("div",{className:"search-user",children:e.jsx("div",{className:"search-wrapper",children:e.jsx("form",{className:"search-form",onSubmit:x,children:e.jsxs("div",{className:"form-group",style:{marginBottom:"0"},children:[e.jsx("input",{type:"search",name:"search",id:"search",placeholder:"name or email",style:{fontSize:"12px"},ref:r}),e.jsx("button",{type:"submit",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})})]})})})}),e.jsx("ul",{className:"mt-4",children:!o&&l.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"friend-item",children:[e.jsxs("div",{className:"friend-left",children:[e.jsx("div",{className:"friend-img",children:e.jsx("img",{src:`http://127.0.0.1:3000${s.photo}`,alt:s.name})}),e.jsxs("div",{className:"friend-detail ps-2",children:[e.jsx("h6",{className:"",style:{fontWeight:700,fontSize:"14px",margin:"0"},children:e.jsx(p,{to:`/profile/${s._id}`,children:s.name})}),e.jsx("div",{className:"",children:s.email})]})]}),e.jsxs("div",{className:"friend-right",children:[e.jsx(i,{text:"add friend",variant:"solid",sx:{display:"block",marginBottom:"10px"}}),e.jsx(i,{text:"follow",variant:"solid",sx:{display:"block",backgroundColor:"#207e20",marginLeft:"auto"}})]})]})},s._id))})]})})})})})})})})};export{k as default};
