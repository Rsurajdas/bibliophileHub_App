import{t as ee,q as te,v as Y,_ as b,V as se,J as M,r as l,x as re,n as oe,j as t,o as J,p as ne,u as ae,a as ie,g as le,C as ce,L as _}from"./index-0e0ee2e5.js";import{P as de,C as me}from"./CurrentlyReading-ac46100e.js";import{T as G}from"./Title-1ea81694.js";import{R as K,C as L}from"./Row-91183aa5.js";import"./Post-cc894f2c.js";import"./Rating-e44b1e41.js";import"./useIsFocusVisible-fbc3d65c.js";import"./Typography-cbac6330.js";import"./Button-00bb5b10.js";import"./axios-4a70c6fc.js";import"./react-toastify.esm-3ef5c657.js";/* empty css             *//* empty css                      */import"./debounce-517eeb3c.js";var s={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=Symbol.for("react.element"),H=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),U=Symbol.for("react.context"),pe=Symbol.for("react.server_context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Z;Z=Symbol.for("react.module.reference");function i(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case O:switch(e=e.type,e){case k:case R:case E:case q:case F:return e;default:switch(e=e&&e.$$typeof,e){case pe:case U:case W:case I:case T:case z:return e;default:return n}}case H:return n}}}s.ContextConsumer=U;s.ContextProvider=z;s.Element=O;s.ForwardRef=W;s.Fragment=k;s.Lazy=I;s.Memo=T;s.Portal=H;s.Profiler=R;s.StrictMode=E;s.Suspense=q;s.SuspenseList=F;s.isAsyncMode=function(){return!1};s.isConcurrentMode=function(){return!1};s.isContextConsumer=function(e){return i(e)===U};s.isContextProvider=function(e){return i(e)===z};s.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===O};s.isForwardRef=function(e){return i(e)===W};s.isFragment=function(e){return i(e)===k};s.isLazy=function(e){return i(e)===I};s.isMemo=function(e){return i(e)===T};s.isPortal=function(e){return i(e)===H};s.isProfiler=function(e){return i(e)===R};s.isStrictMode=function(e){return i(e)===E};s.isSuspense=function(e){return i(e)===q};s.isSuspenseList=function(e){return i(e)===F};s.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===k||e===R||e===E||e===q||e===F||e===ue||typeof e=="object"&&e!==null&&(e.$$typeof===I||e.$$typeof===T||e.$$typeof===z||e.$$typeof===U||e.$$typeof===W||e.$$typeof===Z||e.getModuleId!==void 0)};s.typeOf=i;function fe(e){return te("MuiAvatarGroup",e)}const he=ee("MuiAvatarGroup",["root","avatar"]),xe=he,ge=["children","className","component","componentsProps","max","slotProps","spacing","total","variant"],Q={small:-16,medium:null},ve=e=>{const{classes:n}=e;return ne({root:["root"],avatar:["avatar"]},fe,n)},ye=Y("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,n)=>b({[`& .${xe.avatar}`]:n.avatar},n.root)})(({theme:e})=>({[`& .${se.root}`]:{border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),je=Y(M,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(e,n)=>n.avatar})(({theme:e})=>({border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),be=l.forwardRef(function(n,c){var x;const u=re({props:n,name:"MuiAvatarGroup"}),{children:B,className:w,component:o="div",componentsProps:V={},max:a=5,slotProps:C={},spacing:f="medium",total:D,variant:S="circular"}=u,P=oe(u,ge);let d=a<2?2:a;const g=b({},u,{max:a,spacing:f,component:o,variant:S}),v=ve(g),y=l.Children.toArray(B).filter(r=>l.isValidElement(r)),h=D||y.length;h===d&&(d+=1),d=Math.min(h+1,d);const j=Math.min(y.length,d-1),$=Math.max(h-d,h-j,0),A=f&&Q[f]!==void 0?Q[f]:-f,m=(x=C.additionalAvatar)!=null?x:V.additionalAvatar;return t.jsxs(ye,b({as:o,ownerState:g,className:J(v.root,w),ref:c},P,{children:[$?t.jsxs(je,b({ownerState:g,variant:S},m,{className:J(v.avatar,m==null?void 0:m.className),style:b({marginLeft:A},m==null?void 0:m.style),children:["+",$]})):null,y.slice(0,j).reverse().map((r,p)=>l.cloneElement(r,{className:J(r.props.className,v.avatar),style:b({marginLeft:p===j-1?void 0:A},r.props.style),variant:r.props.variant||S}))]}))}),X=be,ze=()=>{var P,d,g,v,y,h,j,$,A,m;const[e,n]=l.useState([]),[c,x]=l.useState(!0),[u,B]=l.useState([]),w=ae("token"),[o,V]=l.useState({});let{profileId:a}=ie();const C=le(),f=async r=>{try{const N=await(await fetch(`https://boiling-wildwood-46640-30ec30629e36.herokuapp.com/api/v1/users/get-user/${r}`,{method:"GET",headers:{Authorization:`Bearer ${w}`}})).json();x(!1),V(N.data.user)}catch(p){console.error(p.message)}},D=async r=>{try{const N=await(await fetch(`https://boiling-wildwood-46640-30ec30629e36.herokuapp.com/api/v1/posts/get-posts/${r}`,{method:"GET",headers:{Authorization:`Bearer ${w}`}})).json();x(!1),n(N.data.posts)}catch(p){console.error(p.message)}},S=async r=>{const N=await(await fetch(`https://boiling-wildwood-46640-30ec30629e36.herokuapp.com/api/v1/shelf/get-currently-reading/books/${r}`,{method:"GET",headers:{Authorization:`Bearer ${w}`}})).json();x(!1),B(N.data.books)};return l.useEffect(()=>{S(a)},[a]),l.useEffect(()=>{D(a)},[a]),l.useEffect(()=>{f(a)},[a]),t.jsx("main",{children:t.jsx("section",{className:"py-4 mb-2",children:t.jsx(ce,{children:t.jsxs(K,{children:[t.jsx(L,{md:8,className:"px-5",children:t.jsx("div",{className:"profile-details",children:t.jsxs(K,{children:[t.jsx(L,{md:3,children:t.jsx(M,{sizes:"large",alt:o.name,src:o.photo,sx:{width:"150px",height:"150px",margin:"0 auto"}})}),t.jsxs(L,{md:9,children:[t.jsxs("div",{className:"profile-details_content",children:[t.jsx("h5",{className:"border-bottom pb-1",children:o.name}),t.jsxs("div",{style:{fontSize:"14px"},children:[t.jsxs("div",{className:"",children:[t.jsx("span",{style:{fontWeight:700},children:"Email:"})," ",o.email]}),t.jsxs("div",{className:"",children:[t.jsx("span",{style:{fontWeight:700},children:"Friends:"})," ",t.jsxs(_,{to:`/friends/${o._id}`,children:[(P=o.friends)==null?void 0:P.length," friends"]})]}),t.jsxs("div",{className:"",children:[t.jsx("span",{style:{fontWeight:700},children:"Followers:"})," ",t.jsxs(_,{to:`/followers/${a}`,children:[(d=o.followers)==null?void 0:d.length," followers"]})]}),t.jsxs("div",{className:"",children:[t.jsx("span",{style:{fontWeight:700},children:"Following:"})," ",t.jsxs(_,{to:`/following/${o._id}`,children:[(g=o.following)==null?void 0:g.length," following"]})]})]})]}),t.jsxs("div",{className:"user-posts mt-5",children:[t.jsx(G,{element:t.jsxs("h5",{className:"border-bottom pb-2 mb-4",children:["User","'","s Post"]})}),!c&&e.length>0&&e.map(r=>t.jsx(de,{post:r},r._id)),!c&&e.length===0&&t.jsx("p",{children:"No post found!"})]})]})]})})}),t.jsxs(L,{md:4,children:[t.jsxs("div",{className:"user-following mt-4",children:[t.jsx(G,{element:t.jsxs("h6",{className:"border-bottom pb-2 mb-2",style:{fontWeight:700,fontSize:"14px"},children:[o.name," is following"]})}),!c&&((v=o.following)==null?void 0:v.length)>0&&t.jsx(X,{max:4,total:(y=o.following)==null?void 0:y.length,sx:{justifyContent:"flex-end"},children:(h=o.following)==null?void 0:h.map(r=>t.jsx(M,{alt:r.name,src:r.photo},r._id))}),!c&&((j=o.following)==null?void 0:j.length)===0&&t.jsx("p",{children:"you following no one"})]}),(($=o.request_pending)==null?void 0:$.length)>0&&C===a?t.jsxs("div",{className:"user-following mt-4",children:[t.jsx(G,{element:t.jsxs("div",{className:"d-flex align-items-center border-bottom pb-2 mb-2 justify-content-between",children:[t.jsx("h6",{style:{fontWeight:700,fontSize:"14px",margin:0},children:"Pending request"}),t.jsx(_,{to:`/request-pending/${a}`,children:"more..."})]})}),t.jsx(X,{max:4,total:(A=o.request_pending)==null?void 0:A.length,sx:{justifyContent:"flex-end"},children:(m=o.request_pending)==null?void 0:m.map(r=>t.jsx(M,{alt:r.name,src:r.photo},r._id))})]}):null,t.jsxs("div",{className:"currently-reading mt-4",children:[t.jsx(G,{element:t.jsxs("h6",{className:"border-bottom pb-2 mb-2",style:{fontWeight:700,fontSize:"14px"},children:[o.name," currently reading"]})}),t.jsxs("div",{className:"mt-3",children:[!c&&u.length>0&&u.map(r=>t.jsx(me,{book:r,currentUser:C===a},r.book._id)),!c&&u.length===0&&t.jsx("p",{children:"Add books to Currently reading shelf"})]})]})]})]})})})})};export{ze as default};
