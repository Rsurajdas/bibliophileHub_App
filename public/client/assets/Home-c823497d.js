import{r as t,u as x,g,j as e,C as f}from"./index-134924e6.js";import{C as j,P as w}from"./CurrentlyReading-64358195.js";import{T as y}from"./Title-1f594e90.js";import{R as k,C as r}from"./Row-33d0f818.js";import"./Post-83b26b2e.js";import"./Rating-94edbd44.js";import"./useIsFocusVisible-0073c392.js";import"./Typography-2ebcf2fd.js";import"./Button-630edd7e.js";import"./axios-4a70c6fc.js";import"./react-toastify.esm-2d54afa3.js";/* empty css             *//* empty css                      */import"./debounce-517eeb3c.js";const B=()=>{const[c,d]=t.useState([]),[m,a]=t.useState(!0),i=x("token"),[n,p]=t.useState([]),l=g(),h=async()=>{try{const o=await(await fetch("https://boiling-wildwood-46640-30ec30629e36.herokuapp.com/api/v1/posts/social-posts",{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),p(o.data.posts)}catch(s){console.error(s.message)}},u=async()=>{try{const o=await(await fetch(`https://boiling-wildwood-46640-30ec30629e36.herokuapp.com/api/v1/shelf/get-currently-reading/books/${l}`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),d(o.data.books)}catch(s){console.error(s)}};return t.useEffect(()=>{u()},[]),t.useEffect(()=>{h()},[]),e.jsx("section",{style:{padding:"50px 0"},children:e.jsx(f,{children:e.jsxs(k,{className:"gx-5",children:[e.jsx(r,{md:3,children:e.jsxs("div",{className:"currently-reading",children:[e.jsx(y,{element:e.jsx("h5",{children:"Currently Reading"})}),e.jsx("div",{className:"mt-3",children:!m&&c.map(s=>e.jsx(j,{book:s,currentUser:!0},s.book._id))})]})}),e.jsx(r,{md:6,children:n&&n.map(s=>e.jsx(w,{post:s},s._id))}),e.jsx(r,{md:3})]})})})};export{B as default};
