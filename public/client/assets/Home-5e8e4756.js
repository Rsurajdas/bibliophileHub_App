import{r as t,u as x,g as f,j as s,C as j}from"./index-115035ac.js";import{C as g,P as y}from"./CurrentlyReading-515e575e.js";import{T as R}from"./Title-5055f8a0.js";import{R as C,C as o}from"./Row-13b5da0c.js";import"./Post-ed90f679.js";import"./Rating-3a52adef.js";import"./useIsFocusVisible-eda5103b.js";import"./Typography-d489483f.js";import"./Button-403e4382.js";import"./axios-4a70c6fc.js";import"./react-toastify.esm-c9ae1b42.js";/* empty css             *//* empty css                      */import"./debounce-517eeb3c.js";const B=()=>{const[c,d]=t.useState([]),[m,a]=t.useState(!0),i=x("token"),[n,l]=t.useState([]),p=f(),h=async()=>{try{const r=await(await fetch("/api/v1/posts/social-posts",{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),l(r.data.posts)}catch(e){console.error(e.message)}},u=async()=>{try{const r=await(await fetch(`/api/v1/shelf/get-currently-reading/books/${p}`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),d(r.data.books)}catch(e){console.error(e)}};return t.useEffect(()=>{u()},[]),t.useEffect(()=>{h()},[]),s.jsx("section",{style:{padding:"50px 0"},children:s.jsx(j,{children:s.jsxs(C,{className:"gx-5",children:[s.jsx(o,{md:3,children:s.jsxs("div",{className:"currently-reading",children:[s.jsx(R,{element:s.jsx("h5",{children:"Currently Reading"})}),s.jsx("div",{className:"mt-3",children:!m&&c.map(e=>s.jsx(g,{book:e,currentUser:!0},e.book._id))})]})}),s.jsx(o,{md:6,children:n&&n.map(e=>s.jsx(y,{post:e},e._id))}),s.jsx(o,{md:3})]})})})};export{B as default};
