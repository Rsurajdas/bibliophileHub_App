import{r as e,u as x,g as f,j as t,C as j}from"./index-a7bd720d.js";import{C as g,P as y}from"./CurrentlyReading-dbb3958f.js";import{T as R}from"./Title-1758a322.js";import{R as C,C as o}from"./Row-a305f01f.js";import"./Post-011d59cf.js";import"./Rating-c9dcf923.js";import"./useIsFocusVisible-e1f2172a.js";import"./Typography-ae9765a8.js";import"./Button-0c7a912b.js";import"./axios-4a70c6fc.js";import"./react-toastify.esm-96ce24d9.js";/* empty css             *//* empty css                      */import"./debounce-517eeb3c.js";const B=()=>{const[c,d]=e.useState([]),[m,a]=e.useState(!0),i=x("token"),[n,p]=e.useState([]),l=f(),h=async()=>{try{const r=await(await fetch("http://127.0.0.1:3000/api/v1/posts/social-posts",{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),p(r.data.posts)}catch(s){console.error(s.message)}},u=async()=>{try{const r=await(await fetch(`http://127.0.0.1:3000/api/v1/shelf/get-currently-reading/books/${l}`,{method:"GET",headers:{Authorization:`Bearer ${i}`}})).json();a(!1),d(r.data.books)}catch(s){console.error(s)}};return e.useEffect(()=>{u()},[]),e.useEffect(()=>{h()},[]),t.jsx("section",{style:{padding:"50px 0"},children:t.jsx(j,{children:t.jsxs(C,{className:"gx-5",children:[t.jsx(o,{md:3,children:t.jsxs("div",{className:"currently-reading",children:[t.jsx(R,{element:t.jsx("h5",{children:"Currently Reading"})}),t.jsx("div",{className:"mt-3",children:!m&&c.map(s=>t.jsx(g,{book:s,currentUser:!0},s.book._id))})]})}),t.jsx(o,{md:6,children:n&&n.map(s=>t.jsx(y,{post:s},s._id))}),t.jsx(o,{md:3})]})})})};export{B as default};
